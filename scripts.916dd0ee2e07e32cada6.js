const rectangleEmitter={canvas:null,context:null,blastZone:{x:0,y:0,width:800,height:600},particle:null,particles:[],maxParticles:700,fpsId:null,tickId:null,setCanvas:function(t){this.canvas=t,this.context=t.getContext("2d"),this.context.fillStyle="#ffffff"},setBlastZone:function(t,i,e,a){this.blastZone={x:t,y:i,width:e,height:a}},start:function(t){this.fpsId=setInterval(this.frameUpdate,1e3/(t||30),this),this.tickId=setInterval(this.tick,1e3,this)},pause:function(){clearInterval(this.intervalId)},stop:function(){clearInterval(this.intervalId),this.clear()},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},addParticle:function(t){if(this.particles.length<this.maxParticles){var i=Object.create(t);i.randomize(this.blastZone),this.particles.push(i)}},draw:function(t,i,e){this.clear();for(var a=this.particles.length;a--;)this.particles[a].draw(this.context,t,i,e)},update:function(){for(var t,i=this.particles.length;i--;)(t=this.particles[i]).update(),t.y>this.canvas.height&&this.particles.splice(i,1)},applyActions:function(){for(var t=this.particles.length;t--;)this.particles[t].action()},runAhead:function(t){for(i=0;i<t;i+=1)this.frameUpdate(this)},frameUpdate:function(t){t.addParticle(t.particle),t.update(),t.draw()},tick:function(t){t.applyActions()}},snow={x:0,y:0,alpha:.5,radius:3,velocity:{x:0,y:5},draw:function(t,i=255,e=255,a=255){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.fill()},update:function(){this.x+=this.velocity.x,this.y+=this.velocity.y},randomize:function(t){var i=this.getLocation(t);this.x=i.x,this.y=i.y,this.alpha=this.randomRange(.3,1),this.radius=this.randomRange(1,5),this.velocity={x:this.randomRange(-.35,.35),y:this.randomRange(.75,1.5)}},action:function(){this.velocity.x+=.1*(Math.random()-.5)},randomRange:function(t,i){return Math.random()*(i-t)+t},getLocation:function(t){var i={};return i.x=t.x+Math.random()*t.width,i.y=t.y+Math.random()*t.height,i}};!function(){let t=setInterval(()=>{"complete"===document.readyState&&(clearInterval(t),function(){console.log(document.readyState);const t=document.getElementById("snow");t.width=window.innerWidth,t.height=window.innerHeight;const i=Object.create(rectangleEmitter);i.setCanvas(t),i.setBlastZone(0,-10,t.width,1),i.particle=snow,i.runAhead(0),i.start(60)}())},100)}();